# APX Router Configuration

# Server
PORT=8081
ENVIRONMENT=dev
PUBLIC_URL=http://localhost:8081

# GCP
GCP_PROJECT_ID=apx-build-478003
GCP_REGION=us-central1

# Policy Store
POLICY_STORE_TYPE=firestore
POLICY_BUCKET=apx-policy-artifacts
FIRESTORE_COLLECTION=policies

# Pub/Sub (for async mode)
PUBSUB_TOPIC=apx-requests
PUBSUB_PROJECT_ID=apx-build-478003

# Redis
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Observability
OTEL_EXPORTER_OTLP_ENDPOINT=localhost:4317
OTEL_INSECURE=true
LOG_LEVEL=info
LOG_SAMPLE_RATE=0.01

# Feature Flags
ENABLE_CANARY=false
ENABLE_CACHE=true

# ============================================
# ROUTES CONFIGURATION (NEW)
# ============================================
# Format: PATH=BACKEND:MODE,PATH2=BACKEND2:MODE2
# Modes: sync (direct proxy) or async (pub/sub)
#
# Examples:
# Single route:
# ROUTES_CONFIG=/mock/**=https://mocktarget.apigee.net:sync
#
# Multiple routes:
# ROUTES_CONFIG=/mock/**=https://mocktarget.apigee.net:sync,/api/**=https://api.example.com:async
#
# Leave empty for async-only mode (default)
ROUTES_CONFIG=/mock/**=https://mocktarget.apigee.net:sync
